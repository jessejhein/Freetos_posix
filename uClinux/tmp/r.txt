for dir in  lib user ; do [ ! -d $dir ] || make ARCH=armnommu CROSS_COMPILE=arm-elf- -C $dir romfs || exit 1 ; done
make[1]: Entering directory `/home/yan/MainData/workspace/uClinux/lib'
for i in uClibc libnet libcrypt_old /home/yan/MainData/workspace/uClinux/prop libg ; do \
	[ ! -d $i ] || make -C $i romfs || exit $? ; \
done
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/uClibc'
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/uClibc'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/lib/libnet'
make[2]: Nothing to be done for `romfs'.
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/lib/libnet'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/lib/libcrypt_old'
make[2]: Nothing to be done for `romfs'.
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/lib/libcrypt_old'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/lib/libg'
make[2]: Nothing to be done for `romfs'.
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/lib/libg'
arm-elf-strip /home/yan/MainData/workspace/uClinux/romfs/lib/*
arm-elf-strip: /home/yan/MainData/workspace/uClinux/romfs/lib/*: No such file or directory
make[1]: [romfs] Error 1 (ignored)
make[1]: Leaving directory `/home/yan/MainData/workspace/uClinux/lib'
make[1]: Entering directory `/home/yan/MainData/workspace/uClinux/user'
for i in /home/yan/MainData/workspace/uClinux/vendors/Samsung/44B0/. Myapp boa busybox dhcpcd-new ftp games inetd init ping portmap ramimage route sash telnet telnetd /home/yan/MainData/workspace/uClinux/prop ; do \
	[ ! -d $i ] || make -C $i romfs || exit $? ; \
done
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/vendors/Samsung/44B0'
[ -d /home/yan/MainData/workspace/uClinux/romfs/$i ] || mkdir -p /home/yan/MainData/workspace/uClinux/romfs
for i in bin dev etc home lib mnt proc usr var ramdisk home/httpd; do \
	[ -d /home/yan/MainData/workspace/uClinux/romfs/$i ] || mkdir -p /home/yan/MainData/workspace/uClinux/romfs/$i; \
done
for i in tty,c,5,0	console,c,5,1	cua0,c,5,64	cua1,c,5,65 mem,c,1,1	kmem,c,1,2	null,c,1,3 zero,c,1,5	random,c,1,8	urandom,c,1,9 ram0,b,1,0	ram1,b,1,1 ptyp0,c,2,0	ptyp1,c,2,1	ptyp2,c,2,2	ptyp3,c,2,3 ptyp4,c,2,4	ptyp5,c,2,5	ptyp6,c,2,6	ptyp7,c,2,7 ptyp8,c,2,8	ptyp9,c,2,9	ptypa,c,2,10	ptypb,c,2,11 ptypc,c,2,12	ptypd,c,2,13	ptype,c,2,14	ptypf,c,2,15 rom0,b,31,0	rom1,b,31,1	rom2,b,31,2	rom3,b,31,3 rom4,b,31,4	rom5,b,31,5	rom6,b,31,6	rom7,b,31,7 rom8,b,31,8	rom9,b,31,9 tty0,c,4,0	tty1,c,4,1	tty2,c,4,2	tty3,c,4,3 ttyS0,c,4,64	ttyS1,c,4,65 ttyp0,c,3,0	ttyp1,c,3,1	ttyp2,c,3,2	ttyp3,c,3,3 ttyp4,c,3,4	ttyp5,c,3,5	ttyp6,c,3,6	ttyp7,c,3,7 ttyp8,c,3,8	ttyp9,c,3,9	ttypa,c,3,10	ttypb,c,3,11 ttypc,c,3,12	ttypd,c,3,13	ttype,c,3,14	ttypf,c,3,15 mtd0,c,90,0	mtd1,c,90,2 mtdblock0,b,30,0	mtdblock1,b,30,1 fb0,c,29,0; do \
	touch /home/yan/MainData/workspace/uClinux/romfs/dev/@$i; \
done
romfs-inst.sh -s /var/tmp /tmp
romfs-inst.sh -s /bin /sbin
romfs-inst.sh /etc/rc
romfs-inst.sh /etc/inittab
romfs-inst.sh ../../Generic/romfs/etc/services /etc/services
case "linux-2.4.x" in \
*2.4.*) ;; \
*) echo "ttyS0:linux:/bin/sh" >> /home/yan/MainData/workspace/uClinux/romfs/etc/inittab ;; \
esac
romfs-inst.sh /etc/motd
romfs-inst.sh index.html /home/httpd/index.html
romfs-inst.sh index.html /index.html
romfs-inst.sh /etc/passwd
echo "Samsung/44B0 Version 3.1.0 -- " `date` > /home/yan/MainData/workspace/uClinux/romfs/etc/version
cp /home/yan/MainData/workspace/uClinux/user/ramimage/ramfs2048.img \
	/home/yan/MainData/workspace/uClinux/romfs/etc/ramfs2048.img
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/vendors/Samsung/44B0'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/Myapp'
romfs-inst.sh    /bin/demo
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/Myapp'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/boa'
for i in src ; do make -C $i romfs || exit ; done
make[3]: Entering directory `/home/yan/MainData/workspace/uClinux/user/boa/src'
romfs-inst.sh /bin/boa
make[3]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/boa/src'
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/boa'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/busybox'
romfs-inst.sh -e CONFIG_USER_BUSYBOX_SYSLOGD -s /var/tmp/log /dev/log
if [ -f "$ROMFSDIR/bin/busybox" ]; then \
	inode=`ls -i $ROMFSDIR/bin/busybox | awk '{print $1}'`; \
	ls -iL "$ROMFSDIR/bin" | grep "^ *$inode" | awk '{print $2}' | \
		sed "s:^:$ROMFSDIR/bin/:" | env -i xargs rm -f; \
fi
cp busybox /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
/bin/sh install-romfs.sh /home/yan/MainData/workspace/uClinux/romfs/bin/
  /home/yan/MainData/workspace/uClinux/romfs/bin/date -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/dmesg -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/hostname -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/kill -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/mount -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/umount -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/route -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/basename -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/du -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/killall -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
  /home/yan/MainData/workspace/uClinux/romfs/bin/uptime -> /home/yan/MainData/workspace/uClinux/romfs/bin/busybox
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/busybox'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/dhcpcd-new'
romfs-inst.sh /bin/dhcpcd
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/dhcpcd-new'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/ftp'
for i in ftp ; do make -C $i romfs ; done
make[3]: Entering directory `/home/yan/MainData/workspace/uClinux/user/ftp/ftp'
romfs-inst.sh /bin/ftp
make[3]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/ftp/ftp'
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/ftp'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/games'
for i in  dummy ; do \
	[ $i = dummy ] || make -C $i romfs || exit  ; \
done
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/games'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/inetd'
romfs-inst.sh /bin/inetd
:
: inetd.conf
:
romfs-inst.sh -e CONFIG_USER_DISCARD_DISCARD \
-a "discard dgram  udp wait   root /bin/discard" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_DISCARD_DISCARD \
-a "discard stream tcp nowait root /bin/discard" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_MARADNS_MARADNS \
-a "domain  stream tcp nowait root /bin/zoneserver" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_TFTPD_TFTPD \
   	-a "tftp    dgram  udp wait   root /bin/tftpd" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_SSH_SSHD \
-a "ssh     stream tcp nowait root /bin/sshd -i" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_TELNETD_TELNETD \
-a "telnet  stream tcp nowait root /bin/telnetd" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_FTPD_FTPD \
-a "ftp     stream tcp nowait root /bin/ftpd -l" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_GAMES_ADVENT4 \
-a "advent4 stream tcp nowait root /bin/advent4" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_GAMES_DUNGEON \
-a "dungeon stream tcp nowait root /bin/dungeon" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_DESTEST_DESPERF \
-a "des     stream tcp nowait root /bin/desperf des" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_DESTEST_DESPERF \
-a "des3    stream tcp nowait root /bin/desperf 3des" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_DESTEST_DESPERF \
-a "aes    stream tcp nowait root /bin/desperf aes" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_SAMBA \
-a "netbios-ssn stream tcp nowait root smbd -d1" /etc/inetd.conf
:
: Klaxon configuration
:
romfs-inst.sh -e CONFIG_USER_KLAXON_CHARGEN \
	-a "chargen stream tcp nowait root /bin/klaxon tcp-chargen" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_CHARGEN \
	-a "chargen stream udp wait   root /bin/klaxon udp-chargen" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_DISCARD \
	-a "discard stream tcp nowait root /bin/klaxon tcp-discard" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_DISCARD \
	-a "discard stream udp wait   root /bin/klaxon udp-discard" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_ECHO \
	-a "echo    stream tcp nowait root /bin/klaxon tcp-echo" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_ECHO \
	-a "echo    stream udp wait   root /bin/klaxon udp-echo" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_FTP \
	-a "ftp     stream tcp nowait root /bin/klaxon ftp" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_FTP \
	-a "ftpdata stream tcp nowait root /bin/klaxon ftp-data" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_HTTP \
	-a "http    stream tcp nowait root /bin/klaxon http" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_SMTP \
	-a "smtp    stream tcp nowait root /bin/klaxon smtp" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_SNMP \
	-a "snmp    stream tcp nowait root /bin/klaxon tcp-snmp" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_SNMP \
	-a "snmp    stream udp wait   root /bin/klaxon udp-snmp" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_SSH \
	-a "ssh     stream tcp nowait root /bin/klaxon ssh" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_TELNET \
	-a "telnet  stream tcp nowait root /bin/klaxon telnet" /etc/inetd.conf
romfs-inst.sh -e CONFIG_USER_KLAXON_TFTP \
	-a "tftp    stream udp wait   root /bin/klaxon tftp" /etc/inetd.conf
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/inetd'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/init'
romfs-inst.sh -e CONFIG_USER_INIT_EXPAND /bin/expand
romfs-inst.sh -e CONFIG_USER_INIT_INIT /bin/init
romfs-inst.sh -e CONFIG_USER_INIT_INIT -e CONFIG_USER_FACTORY_FACTTEST \
	-a "facttest:unknown:/bin/facttest" /etc/inittab
romfs-inst.sh -e CONFIG_USER_INIT_INIT -e CONFIG_USER_BUSYBOX_SYSLOGD \
	-a "slog:unknown:/bin/syslogd -n" /etc/inittab
romfs-inst.sh -e CONFIG_USER_INIT_INIT -e CONFIG_USER_BUSYBOX_KLOGD \
	-a "klog:unknown:/bin/klogd -n" /etc/inittab
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/init'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/ping'
romfs-inst.sh /bin/ping
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/ping'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/portmap'
romfs-inst.sh -e CONFIG_USER_PORTMAP_PORTMAP   /bin/portmap
romfs-inst.sh -e CONFIG_USER_PORTMAP_PMAP_DUMP /bin/pmap_dump
romfs-inst.sh -e CONFIG_USER_PORTMAP_PMAP_SET  /bin/pmap_set
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/portmap'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/ramimage'
romfs-inst.sh -e CONFIG_USER_RAMIMAGE_RAMFS64  ramfs64.img  /etc/ramfs.img
romfs-inst.sh -e CONFIG_USER_RAMIMAGE_RAMFS128 ramfs128.img /etc/ramfs.img
romfs-inst.sh -e CONFIG_USER_RAMIMAGE_RAMFS256 ramfs256.img /etc/ramfs.img
romfs-inst.sh -e CONFIG_USER_RAMIMAGE_RAMFS512 ramfs512.img /etc/ramfs.img
romfs-inst.sh -e CONFIG_USER_RAMIMAGE_RAMFS1024 ramfs1024.img /etc/ramfs.img
romfs-inst.sh -e CONFIG_USER_RAMIMAGE_RAMFS2048 ramfs2048.img /etc/ramfs.img
romfs-inst.sh -e CONFIG_USER_RAMIMAGE_RAMFS8192 ramfs8192.img /etc/ramfs.img
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/ramimage'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/route'
romfs-inst.sh -e CONFIG_USER_ROUTE_ROUTE    /bin/route
romfs-inst.sh -e CONFIG_USER_ROUTE_IFCONFIG /bin/ifconfig
romfs-inst.sh -e CONFIG_USER_ROUTE_ARP      /bin/arp
romfs-inst.sh -e CONFIG_USER_ROUTE_NETSTAT  /bin/netstat
romfs-inst.sh -e CONFIG_USER_ROUTE_MIITOOL  /bin/mii-tool
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/route'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/sash'
romfs-inst.sh -e CONFIG_USER_SASH_SH       /bin/sh
romfs-inst.sh -e CONFIG_USER_SASH_REBOOT /bin/reboot
romfs-inst.sh -e CONFIG_USER_SASH_REBOOT_SNAPGEAR reboot-snapgear.sh /bin/reboot
romfs-inst.sh -e CONFIG_USER_SASH_SHUTDOWN /bin/shutdown
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/sash'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/telnet'
romfs-inst.sh /bin/telnet
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/telnet'
make[2]: Entering directory `/home/yan/MainData/workspace/uClinux/user/telnetd'
romfs-inst.sh /bin/telnetd
make[2]: Leaving directory `/home/yan/MainData/workspace/uClinux/user/telnetd'
make[1]: Leaving directory `/home/yan/MainData/workspace/uClinux/user'
find /home/yan/MainData/workspace/uClinux/romfs/. -name CVS | xargs -r rm -rf
